(this.webpackJsonpsudoku_puzzle=this.webpackJsonpsudoku_puzzle||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),r=n(7),l=n.n(r),o=(n(13),n(1)),a=n(2),u=n(4),c=n(3),h=function(){function e(t,n,s){Object(o.a)(this,e),this.value=s||0,this.row=t,this.col=n,this.value="."===s?0:parseInt(s,10),this.possibleValues=[]}return Object(a.a)(e,[{key:"toString",value:function(){return this.value||"."}}]),e}();Array.prototype.flatten=function(){return[].concat.apply([],this)};var f=function(){for(var e=[],t=0;t<81;t++)e.push(".");return e.join("")}(),v=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;Object(o.a)(this,e),this.rows=[];for(var s=0;s<n.length;s++)s%9===0&&(t=[],this.rows.push(t)),t.push(new h(this.rows.length-1,t.length,n[s]))}return Object(a.a)(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.rows.length;t++){0!==t&&t%3===0&&(e+="---------+---------+---------\n");for(var n=this.rows[t],s=0;s<n.length;s++)0!==s&&s%3===0&&(e+="|"),e+=" "+n[s].toString()+" ";e+="\n"}return e}},{key:"subgrids",value:function(){if(!this.grids){this.grids=[];for(var e=0;e<9;e+=3)for(var t=0;t<9;t+=3)this.grids.push(this.sameSubGridAs(new h(e,t)))}return this.grids}},{key:"columns",value:function(){if(!this._columns){this._columns=[];for(var e=0;e<9;e++)this._columns.push([]);this.rows.forEach((function(e){e.forEach((function(e,t){this._columns[t].push(e)}),this)}),this)}return this._columns}},{key:"sameRowAs",value:function(e){return this.rows[e.row]}},{key:"sameColAs",value:function(e){return this.columns()[e.col]}},{key:"sameSubGridAs",value:function(e){if(!e.subgrid){for(var t=function(e){return e<=2?0:e<=5?3:6},n=t(e.row),s=t(e.col),i=[],r=n;r<n+3;r++){for(var l=this.rows[r],o=[],a=s;a<s+3;a++)o.push(l[a]);i.push(o)}e.subgrid=i}return e.subgrid}},{key:"unsolved",value:function(){return this.rows.flatten().filter((function(e){return 0===e.value}))}},{key:"isSolved",value:function(){return!this.rows.flatten().some((function(e){return 0===e.value}))}},{key:"peers",value:function(e){return e.peers||(e.peers=Array.from(new Set(this.sameColAs(e).concat(this.sameRowAs(e)).concat(this.sameSubGridAs(e).flatten()).filter((function(t){return t!==e}))))),e.peers}},{key:"toFlatString",value:function(){return this.rows.flatten().map((function(e){return e.toString()})).join("")}}]),e}(),p=n(5),d=[1,2,3,4,5,6,7,8,9],g=function(e){return e.value},b=function(e){return e.possibleValues},m=function(e){return 0===e.value},y=function(){function e(t){Object(o.a)(this,e),this.grid=t,this.guesses=0,this._solvedCells=[]}return Object(a.a)(e,[{key:"solve",value:function(){this._initPossibleValues(),this._findCellsWithOnePossibleValue(),this._findUniqueValuesInUnits(),this.grid.isSolved()||this._search()}},{key:"_search",value:function(){var e,t=this,n=this.grid.unsolved().sort((function(e,t){return 100*e.possibleValues.length+(e.row+e.col)-(100*t.possibleValues.length+(t.row+t.col))}))[0],s=Object(p.a)(n.possibleValues);try{for(s.s();!(e=s.n()).done;){var i=e.value,r=this._solvedCells.length;this.guesses+=1;try{this._setValueForCell(n,i),this.grid.isSolved()||this._search()}catch(l){!function(){var e=[];t._solvedCells.splice(r,t._solvedCells.length-r).forEach((function(n){n.value=0,e.push(n),e=e.concat(t.grid.peers(n))}),t),t._initPossibleValues(new Set(e.filter(m)))}()}}}catch(o){s.e(o)}finally{s.f()}if(!this.grid.isSolved())throw"Tried all values for this cell  ["+n.row+", "+n.col+"]"+n.possibleValues}},{key:"_initPossibleValues",value:function(e){var t=this;(e||this.grid.unsolved()).forEach((function(e){var n=t.grid.peers(e).map(g),s=d.filter((function(e){return!n.includes(e)}));e.possibleValues=s}))}},{key:"_removeValueFromPeers",value:function(e){this.grid.peers(e).filter(m).forEach((function(t){var n=t.possibleValues.indexOf(e.value);if(-1!==n&&t.possibleValues.splice(n,1),0===t.possibleValues.length)throw"No possible values for cell ["+t.row+", "+t.col+"] "+t.value}))}},{key:"_setValueForCell",value:function(e,t){var n=this.grid.peers(e);if(n.some((function(e){return e.value===t})))throw"Tried to set a value that already exists in peers";e.value=t,e.possibleValues=[],this._solvedCells.push(e),this._removeValueFromPeers(e),this._findCellsWithOnePossibleValue(n),this._findUniqueValuesInUnits(e)}},{key:"_findCellsWithOnePossibleValue",value:function(e){var t=this;(e=e||this.grid.unsolved()).forEach((function(e){0===e.value&&1===e.possibleValues.length&&t._setValueForCell(e,e.possibleValues[0])}))}},{key:"_findUniqueValuesInUnits",value:function(e){if(console.log("2"),e)[this.grid.sameSubGridAs(e).flatten(),this.grid.sameColAs(e),this.grid.sameRowAs(e)].forEach(this._findUniquePossibiltyInUnit,this);else for(var t=0,n=[this.grid.subgrids().map((function(e){return e.flatten()})),this.grid.columns(),this.grid.rows];t<n.length;t++){var s,i=n[t],r=Object(p.a)(i);try{for(r.s();!(s=r.n()).done;){var l=s.value;this._findUniquePossibiltyInUnit(l)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"_findUniquePossibiltyInUnit",value:function(e){var t=this;console.log("4"),e.filter(m).forEach((function(n){var s,i=e.filter((function(e){return e!==n&&m(e)})).map(b).flatten();1===(s=n.possibleValues.filter((function(e){return!i.includes(e)}))).length&&t._setValueForCell(n,s[0])}))}}]),e}(),w=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"fireOnChange",value:function(e){var t=e.target.value;(parseInt(t,10)||""===t)&&this.props.onCellValueChange(this.props.row,this.props.col,e.target.value)}},{key:"render",value:function(){var e=this.props.value;return i.a.createElement("input",{type:"text",value:0===e?"":e,maxLength:"1",onChange:this.fireOnChange.bind(this)})}}]),n}(s.Component),k=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;console.log("qqqqqq ",this.props.puzzle);var t=new v(this.props.puzzle);return console.log("xxxxxx ",t),i.a.createElement("table",{className:"sudoku"},i.a.createElement("tbody",null,t.rows.map((function(t,n){return i.a.createElement("tr",{key:n},t.map((function(t){return i.a.createElement("td",{key:t.col},i.a.createElement(w,{value:t.value,row:t.row,col:t.col,onCellValueChange:e.props.onCellValueChange}))})))}))))}}]),n}(s.Component),V=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).state={puzzle:s.props.puzzle},s}return Object(a.a)(n,[{key:"solve",value:function(){var e=this.state.puzzle,t=new v(e);console.log("1"),new y(t).solve(),console.log("3"),this.setState({puzzle:t.toFlatString()})}},{key:"onCellValueEdited",value:function(e,t,n){var s=new v(this.state.puzzle);s.rows[e][t].value=n,this.setState({puzzle:s.toFlatString()})}},{key:"clearAll",value:function(){this.setState({puzzle:this.props.puzzle})}},{key:"render",value:function(){var e=this;return console.log("vvvvvvvv ",this.state),i.a.createElement("div",{className:"game"},i.a.createElement("h1",{className:"headerName"},"Sudoku Puzzle"),i.a.createElement(k,{puzzle:this.state.puzzle,onCellValueChange:this.onCellValueEdited.bind(this)}),i.a.createElement("div",{className:"buttons"},i.a.createElement("button",{onClick:function(){return e.solve()}},"Solve It!"),i.a.createElement("button",{onClick:function(){return e.clearAll()}},"Clear")))}}]),n}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(V,{puzzle:"53..7....6..195....98....6.8...6...34..8.3..17...2...6.6....28....419..5....8..79"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.a06b7209.chunk.js.map